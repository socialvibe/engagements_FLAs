package mirrorbanners.fx.dust {	import flash.display.MovieClip;	import flash.events.Event;		public class Speck extends MovieClip	{				private const BURST_DECEL			:Number = 0.05;		private const BASE_LIFE				:int = 24;		private const SPREAD				:int = 12;				protected var _life					:int;		protected var _gravity				:Number;		protected var _spinVelocity			:Number;		protected var _ySpeed				:Number;		protected var _burst				:Number;		protected var _baseX				:Number;		protected var _baseY				:Number;						public function Speck()		{			blendMode = "add";			mouseEnabled = false;			mouseChildren = false;		}				public function fire( $x:Number, $y:Number ):Speck		{			if ( this.parent )				return this;			x = _baseX = $x + Math.random() * SPREAD * 2 - SPREAD;			y = _baseY = $y + Math.random() * SPREAD * 2 - SPREAD;			_ySpeed = Math.random() * -2.0;			_gravity = Math.random() * 0.2 + 0.03;			_spinVelocity = Math.random() * 10.0;			_burst = Math.random() * 2.0 - 1.0;			_life = Math.round( Math.random() * 24 ) + BASE_LIFE;						addEventListener( Event.ENTER_FRAME, onFrameEnter );			addEventListener( Event.REMOVED_FROM_STAGE, onStageRemoved );						return this;		}				protected function onFrameEnter( e:Event ):void		{			x += _burst;			y += _ySpeed;			rotationY += _spinVelocity;			alpha = Math.random();						_ySpeed += _gravity;			//_burst *= _burst - BURST_DECEL;						if ( --_life <= 0 )				parent.removeChild( this );		}				protected function onStageRemoved( e:Event ):void		{			removeEventListener( Event.ENTER_FRAME, onFrameEnter );		}									}	}